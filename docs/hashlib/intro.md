# hashlib 简介

来源：[廖雪峰的Python教程](http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014319556588648dd1fb0047a34d0c945ee33e8f4c90cc000)

Python 的 hashlib 提供了常见的摘要算法，如 MD5, SHA1 等等。

**摘要算法**又称哈希算法、散列算法。它通过一个摘要函数 `f()`，把任意长度的数据 `data` 转换为一个长度固定的数据串 `digest`（通常用16进制字符串表示）。目的是为了发现原始数据是否被人篡改过。

比如，计算一个字符串的 MD5 值的[代码](../../scripts/hashlib/use_md5.py)。

MD5 是最常见的摘要算法，速度很快，生成结果是固定的 128bit ，通常用一个 32 位的 16 进制字符串表示。

另一种常见的摘要算法是 SHA1，调用 SHA1 和调用 MD5 完全类似。[查看代码](../../scripts/hashlib/use_sha1.py)。

SHA1 的结果是 160 字节，通常用一个 40 位的 16 进制字符串表示。

比 SHA1 更安全的算法是 SHA256 和 SHA512，不过越安全的算法不仅越慢，而且摘要长度越长。

如果两个不同的数据通过某个摘要算法得到了相同的摘要，这种情况称为**碰撞**:collision:。

## 摘要算法应用

任何允许用户登录的网站都会存储用户登录的用户名和口令。正确的保存口令的方式是不存储用户的明文口令，而是存储用户口令的摘要。当用户登录时，首先计算用户输入的明文口令的MD5，然后和数据库存储的MD5对比，如果一致，说明口令输入正确，如果不一致，口令肯定错误。